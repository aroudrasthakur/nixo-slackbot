# ============================================
# Slackbot + Realtime Dashboard Environment Variables
# ============================================
# Copy this file to .env in the root directory and fill in your values
# Both backend and web apps will read from this file

# ============================================
# Slack Configuration
# ============================================
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_APP_TOKEN=xapp-your-app-token
SLACK_SIGNING_SECRET=your-signing-secret
FDE_USER_ID=U1234567890

# ============================================
# OpenAI Configuration
# ============================================
OPENAI_API_KEY=sk-your-api-key
OPENAI_CONCURRENCY=3

# Semantic matching (vector DB): days to look back for similar tickets/messages, cosine distance threshold (0â€“1, lower = stricter)
# SIMILARITY_DAYS_BACK=14
# SIMILARITY_THRESHOLD=0.17
# More lenient threshold for recent channel fallback (same channel + 5 min window already constrain matches)
# RECENT_CHANNEL_THRESHOLD=0.40

# Number of recent channel messages to fetch for context when classifying non-thread messages (default: 15)
# CHANNEL_CONTEXT_LIMIT=15

# ============================================
# Supabase Configuration
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# ============================================
# Backend Application Configuration
# ============================================
APP_ORIGIN=http://localhost:3000
PORT=4000
NODE_ENV=development

# ============================================
# Frontend Application Configuration
# ============================================
# These are public variables (prefixed with NEXT_PUBLIC_)
# They are exposed to the browser
NEXT_PUBLIC_SOCKET_URL=http://localhost:4000
NEXT_PUBLIC_API_URL=http://localhost:4000
# Origin of the Next.js app (for server-side fetch to /api/tickets). Defaults to http://localhost:3000 if unset.
NEXT_PUBLIC_APP_ORIGIN=http://localhost:3000

# ============================================
# AWS Cognito Configuration
# ============================================
# Create a User Pool in AWS Console with:
# - Sign-in options: Email
# - Required attributes: email, given_name, family_name, preferred_username
# - App client: Create without client secret (for browser use)
NEXT_PUBLIC_COGNITO_USER_POOL_ID=us-east-1_xxxxxxxxx
NEXT_PUBLIC_COGNITO_CLIENT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_COGNITO_REGION=us-east-1
